import os
def ApagarLinhasDuplicadas(dominio):
    ref_arquivo = open("resultados/"+ str(dominio) + ".txt", "r")
    vetor_verifica_se_tem_ip_igual = []

    for linha in ref_arquivo:
        if linha in vetor_verifica_se_tem_ip_igual:
            continue
        else:
            vetor_verifica_se_tem_ip_igual.append(linha)

    print(vetor_verifica_se_tem_ip_igual)

    ref_arquivo = open("resultados/"+str(dominio) + "2.txt", "r")
    vetor_verifica_se_tem_ip_igual2 = []

    for linha in ref_arquivo:
        if linha in vetor_verifica_se_tem_ip_igual2:
            continue
        else:
            vetor_verifica_se_tem_ip_igual2.append(linha)

    print(vetor_verifica_se_tem_ip_igual2)

    os.system("rm -f resultados/" + str(dominio) + ".txt")
    arquivo = open("resultados/"+str(dominio) + ".txt", "a")

    for linha in vetor_verifica_se_tem_ip_igual:
        arquivo.write(linha)

    arquivo.close()
    os.system("rm -f resultados/" + str(dominio) + "2.txt")
    arquivo = open("resultados/"+str(dominio) + "2.txt", "a")

    for linha in vetor_verifica_se_tem_ip_igual2:
        arquivo.write(linha)

    arquivo.close()

def PegarIp(dominio):
    ref_arquivo = open("resultados/"+"ip_do_dominio"+ str(dominio), "r")
    for linha in ref_arquivo:
        ip = linha
    ip = ip.replace('\n', '')
    ip = ip.replace(' ', '')
    return ip
def DominioIp(dominio):
    ref_arquivo = open("resultados/dominio_mesmo_ip"+ str(dominio), "r")
    for linha in ref_arquivo:
        dominio_ip = linha
    ref_arquivo.close()
    dominio_ip = dominio_ip.replace('\n', '')
    dominio_ip = dominio_ip.replace(' ', '')

    return dominio_ip
def Seq1(dominio):
    ref_arquivo = open("resultados/"+"seq1"+ str(dominio),"r")
    for linha in ref_arquivo:
        seq1 = linha
    seq1 = seq1.replace('\n', '')
    seq1 = seq1.replace(' ', '')


    ref_arquivo.close()
    return seq1

def Seq2(dominio):
    ref_arquivo = open("resultados/"+"seq2"+ str(dominio),"r")
    for linha in ref_arquivo:
        seq2 = linha
    ref_arquivo.close()
    seq2 = seq2.replace('\n', '')

    return seq2

def LimparEmail(dominio):
    import re
    ref_arquivo = open("resultados/"+"emails_hacking"+str(dominio), "r")

    m = re.findall(r"\w*@" + str(dominio), ref_arquivo.read())
    emails = []
    for a in m:
        if a in emails:
            pass
        else:
            if a != "@" + str(dominio):
                emails.append(a)
    print(emails)
    ref_arquivo.close()
    os.system("rm -f resultados/emails_hacking"+str(dominio))
    for a in emails:
        os.system("echo '" + str(a) + "' >> resultados/emails_hacking"+str(dominio))


