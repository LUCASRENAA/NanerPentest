#!/bin/bash

wget $1
grep href index.html | cut -d "/" -f 3 | grep "\." | cut -d '"' -f 1 | grep -v "<l" > lista

host $1 | grep "has address" | cut -d " " -f 4 | cut -d "." -f 1,2 > ip
for url in $(cat lista);
	do 
	host $url | grep "has address" | cut -d " " -f 4 > ips
	cat ips
	host $url | grep "has address" | cut -d " " -f 4 | cut -d "." -f 1,2 > ip2


	if [ $(cat ip) == $(cat ip2) ]
	then
	
		echo $url  >> lista_ip
		host $url | grep "has address" | cut -d " " -f 4 >> lista_ip2

	fi
	rm -f ip2
	done	
rm -f lista
rm -f index.html
rm -f ips

echo "---------------------------------------------------"
echo "---"

cat lista_ip > $1.txt
cat lista_ip2 > $12.txt
rm -f lista_ip
rm -f lista_ip2
rm -f ip
